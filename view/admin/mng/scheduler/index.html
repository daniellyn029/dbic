<style>
    .main-footer {
        background: #fff;
        padding: 5px;
        color: #444;
        border-top: 1px solid #d2d6de;
        bottom: 0;
        left: 0;
        position: fixed;
        right: 0;
        z-index: 999;
    }

    .content-wrapper {
        background: white
    }

    .example2 th {
        color: white;
        background-color: #006ba6;
        text-align: center
    }

    .btnTD {
        text-align: center;
    }

    .info {
        font-weight: bold;
    }

    .ui-widget-header {
        border: 1px solid green;
        background: #008d4c;
        color: black;
    }

    .lightbox-modal {
        z-index: 99999 !important;
    }

    .bder {
        border: 0px solid black;
    }

    .table-striped>tbody>tr:nth-child(odd)>td,
    .table-striped>tbody>tr:nth-child(odd)>th {
        background-color: #d9e5f3;
    }

    table.dataTable>tbody>tr.child ul li {
        border-bottom: 0px solid #efefef !important;
    }

    .req-field {
        color: red;
    }

    .paddingZero {
        padding: 0px !important;
    }

    .txtresize {
        resize: vertical;
        min-height: 110px !important;
    }

    .sec-head {
        overflow: hidden;
        animation: bgColor 8s normal forwards;
    }

    .bgPulse {
        width: 100%;
        height: 100%;
    }

    .bgPulse span {
        position: absolute;
        width: 50px;
        height: 50px;
        background: #fff;

    }

    .bgPulse span:nth-child(2n+1) {
        background: transparent;
        border: 5px solid #fff;
    }

    .bgPulse span:nth-child(1) {
        border-radius: 12px;
        top: 30%;
        left: 30%;
        animation: animate 10s linear infinite;
    }

    .bgPulse span:nth-child(2) {
        top: 20%;
        left: 50%;
        animation: animate 15s linear infinite;
    }

    .bgPulse span:nth-child(3) {
        top: 40%;
        left: 70%;
        animation: animate 20s linear infinite;
    }

    .bgPulse span:nth-child(4) {
        border-radius: 12px;
        top: 60%;
        left: 80%;
        animation: animate 12s linear infinite;
    }

    .bgPulse span:nth-child(5) {
        top: 60%;
        left: 40%;
        animation: animate 17s linear infinite;
    }

    .bgPulse span:nth-child(6) {
        border-radius: 12px;
        top: 60%;
        left: 60%;
        animation: animate 22s linear infinite;
    }

    .bgPulse span:nth-child(7) {
        top: 60%;
        left: 20%;
        animation: animate 17s linear infinite;
    }

    @keyframes animate {
        0% {
            transform: scale(0) translateY(0) rotate(0deg);
            opacity: 0;
        }

        50% {
            opacity: 0.4;
        }

        100% {
            transform: scale(1) translateY(-100px) rotate(360deg);
            opacity: 1;
        }
    }

    @keyframes bgColor {
        0% {
            background: #63a0d4;
        }

        25% {
            background: #4f93ce;
        }

        50% {
            background: #3b87c8;
        }

        100% {
            background: #0073b7;
        }
    }

    .buttons {
        margin-right: 0px;
    }

    .style-1::-webkit-scrollbar {
        height: 10px;
        width: 4px;
        border-radius: 4px;
        background: transparent;
        transition: all 0.3s ease;
    }

    .style-1::-webkit-scrollbar:hover {
        background: #c6c7ca;
    }

    .style-1::-webkit-scrollbar-thumb {
        background: #777779;
        border-radius: 4px;
    }

    .select2-container--default .select2-selection--single {
        border: none !important;
        /* border-bottom: 1px solid #ddd !important; */
        height: 25px !important;
        font-size: 14px;
        padding: 1px !important;
        text-align-last: center !important;
    }

    .select2-container--default .select2-selection--single .select2-selection__arrow {
        height: 10px !important;
    }
</style>
<div class="wrapper" ng-controller="MNGSchedulerShiftSched" ng-init="dashboard.active();">

    <div class="main-header" ng-include="headerTemplate"></div>
    <div class="main-sidebar" ng-include="leftNavigationTemplate"></div>

    <div class="content-wrapper">
        <spinner name="form01spinner" ng-cloak="">
            <div class="overlay"></div>
            <div class="spinner">
                <div class="double-bounce1"></div>
                <div class="double-bounce2"></div>
            </div>
            <div class="please-wait">Please Wait...</div>
        </spinner>
        <section class="content-header sec-head"
            style="height: 150px;color: #ffff;text-shadow: 12;box-shadow: 0 8px 6px -6px black;">
            <div style="font-size: 9em;/*color: #00a65a !important;*/">
                <i class="fa"
                    style="background: url('assets/images/icons/HRIS Dashboard icon Manager.png');background-repeat: no-repeat;background-size: 115px;color: transparent;width: 120px;float: left;color:transparent">&nbsp;&nbsp;&nbsp;</i>
                <div style="font-size: 20pt;padding-top: 15px;text-indent:15px">Staff Management</div>
                <div style="font-size: 15pt;text-indent:15px">myTeam Duty Roster</div>
            </div>
            <ol class="breadcrumb" style="margin-left:125px;background: #f5f5f5 !important">
                <li><a href=".#/admin/home"><i class="fa fa-dashboard"></i> Home</a></li>
                <li><a href=".#/admin/mng/dashboard"> Staff Management</a></li>
                <li><a href=".#/admin/mng/scheduler/shiftsched"> File Maintenance</a></li>
                <li class="active">Duty Roster</li>
            </ol>
            <div class="bgPulse hidden-xs">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
        </section>

        <section class="content">
            <div class="well row" style="    height: auto !important;margin: 0px;margin-bottom: 30px;">

                <div class="col-md-12 col-xs-12 paddingZero">
                    <div class="col-md-12" style="padding-bottom:10px">
                        <button class="btn-primary"
                            style="width:auto;margin: 0 3px 0 3px; color : white; border-radius: 5px;-webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-width: 1px;"
                            type="button" data-target="#Settings" data-toggle="modal"
                            ng-if="dashboard.values.userInformation.type=='MANAGER' || dashboard.values.userInformation.type=='SYSADMIN' " ng-click="settings()">Assign
                            Scheduler</button>
                        <span>{{ scheduler_name }}</span>

                    </div>

                    <div class="col-md-8" style="padding-bottom:10px">
                        <button
                            style="height: 24px;color : white;background-color: #0073b7; border-radius: 0;-webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-width: 1px;"
                            type="button" ng-click="cutoffData('1')">
                            << </button><button
                                    style="color : white;background-color: #0073b7; border-radius: 0;-webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-width: 1px;"
                                    type="button" ng-click="cutoffData('0')">CutOff Period</button><button
                                    style="height: 24px;color : white;background-color: #0073b7; border-radius: 0;-webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-width: 1px;"
                                    type="button" ng-click="cutoffData('2')">>></button>
                                <button disabled
                                    style="color:white;background-color: #0073b7; border-radius: 0;-webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-width: 1px;"
                                    type="button">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Data Parameter
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</button>
                                <input type="text" placeholder="Date from" readonly datepickers
                                    ng-model="entry.datefrom" style="background-color:white;border:1px solid #ddd"
                                    style="width:100%" disabled>
                                <input type="text" placeholder="Date to" readonly datepickers ng-model="entry.dateto"
                                    style="background-color:white;border:1px solid #ddd" style="width:100%" disabled>

                                <!-- <button style="color : white;background-color: #0073b7; border-radius: 0;-webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-width: 1px;" type="button" ng-click="btn()" ng-if="dates"><i class="fa fa-plus-square"></i></button> -->
                    </div>

                    <div class="col-md-4" style="padding-bottom:10px; text-align: right">

                        <button class="btn-primary"
                            style="width:auto;margin: 0 3px 0 3px; color : white; border-radius: 5px;-webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-width: 1px; float: right;"
                            type="button" ng-click="generatedr()" disabled>Generate
                            Previous</button>
                        <button class="btn-success"
                            style="width:100px;margin: 0 3px 0 3px; color : white; border-radius: 5px;-webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-width: 1px;"
                            type="button" ng-click="sec('submit')" ng-if="dashboard.values.undersec">Submit</button>
                        <button class="btn-warning"
                            style="width:100px;margin: 0 0 0 3px; color : white; border-radius: 5px;-webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-width: 1px;"
                            type="button" ng-click="sec('save')" ng-if="dashboard.values.undersec">Save</button>

                        <button class="btn-success"
                            style="width:100px;margin: 0 3px 0 3px; color : white; border-radius: 5px;-webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-width: 1px;"
                            type="button" ng-click="mng('approve')" ng-if="!dashboard.values.undersec">Approve</button>
                        <button class="btn-warning"
                            style="width:100px;margin: 0 3px 0 3px; color : white; border-radius: 5px;-webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-width: 1px;"
                            type="button" ng-click="mng('save')" ng-if="!dashboard.values.undersec">Save</button>
                        <button class="btn-danger"
                            style="width:100px;margin: 0 0 0 3px; color : white; border-radius: 5px;-webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-width: 1px;"
                            type="button" ng-click="mng('recall')" ng-if="!dashboard.values.undersec">Recall</button>
                    </div>

                    <div class="col-md-12 style-1" style="overflow:auto;">
                        <table class="table table-bordered table-condensed text-center" ng-if="dates">
                            <thead>
                                <tr>
                                    <th
                                        style="border:1px solid white;background-color:#0073b7;color:white;width:200px !important">
                                        Employee's Name</th>
                                    <th style="border:1px solid white;background-color:#0073b7;color:white"
                                        ng-repeat="d in dates track by $index">
                                        {{ d.work_date | date:"EEEE" }}<br>{{d.work_date | date : "M/dd/y"}}</th>
                                    <!-- <th
                                        style="border:1px solid white;background-color:white;color:white;vertical-align: middle;border:1px solid #ddd">
                                        <button
                                            style="width:50px !important;height:40px !important;color : white;background-color: #00a65a; border-radius: 5px;-webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-width: 1px;"
                                            type="button" ng-click="btn()" ng-if="dates"><i
                                                class="fa fa-plus-square"></i></button>
                                    </th> -->

                                </tr>
                            </thead>
                            <tbody>
                                <!--ng-repeat="(key, value) in entry.empname"> -->
                                <tr ng-repeat="data in empunder | filter: typeLimit track by $index">
                                    <td style="border:1px solid #ddd;background-color:white">
                                        <div ng-init="empsched(data.id, $index)"
                                            style="border-radius:3px;min-height: 20px !important;text-align:center;">
                                            {{  data.empid + ' ' + data.fullname | titlecase}}
                                        </div>
                                        <!-- <select select2 ng-model="entry.empname[key].empid"
                                            style="border:none;text-align: center;font-size:12px;width: 100%;text-align-last: center;"
                                            ng-change="filtername(key)">
                                            <option ng-repeat="data in empunder | filter: typeLimit track by $index"
                                                value="{{data.id}}">{{  data.empid + ' ' + data.fullname | titlecase}}
                                            </option>
                                        </select> -->
                                    </td>
                                    <td style="border:1px solid #ddd;background-color:white"
                                        ng-repeat="sc in schd[$index]">
                                        <div
                                            style="border-radius:3px;min-height: 20px !important;text-align:center;background-color:{{sc.bg}};color:white">
                                            {{sc.shift_status}}
                                        </div>
                                        <div style="min-height: 20px !important;display:flex;"
                                            ng-hide="sc.drsbmt!='' || sc.mngsave !='' || sc.drlock == 1">
                                            <select select2 ng-model="newsched[$parent.$index][$index]"
                                                name="newsched{{$parent.$index}}{{$index}}"
                                                ng-init="newsched[$parent.$index][$index] = sc.drpndng"
                                                style="border:none;text-align: center;font-size:12px;width: 100%;text-align-last: center;"
                                                ng-change="newscheds($parent.$index,$index)">
                                                <option value=""></option>
                                                <option ng-repeat="data in shifts track by $index"
                                                    ng-if="data.name != sc.shift_status" value="{{data.id}}">
                                                    {{ data.name }}</option>
                                            </select>
                                        </div>
                                        <div style="min-height: 20px !important;text-align:center;color:white;background-color: rgb(119, 113, 113); margin-top: 3px;"
                                            ng-if="sc.drsbmt!='' && sc.drlock ==0 ">
                                            {{sc.drsbmt}}
                                        </div>
                                        <div style="min-height: 20px !important;text-align:center;color:white;background-color: rgb(119, 113, 113); margin-top: 3px;"
                                            ng-if="sc.mngsave!='' && sc.drlock ==0 ">
                                            {{sc.mngsave}}
                                        </div>
                                    </td>

                                    <td style="border:1px solid #ddd;background-color:white;vertical-align: middle;">
                                        <button
                                            style="width:50px !important;height:40px !important;color : white;background-color: #00a65a; border-radius: 5px;-webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; border-width: 1px;"
                                            type="button" data-target="#Duplicate" data-toggle="modal"
                                            ng-click="btn($index)" ng-if="dates"><i class="fa fa-clone"></i></button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div ng-include="footerTemplate"></div>

    <div id="Settings" class="modal fade" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Assign Scheduler</h4>
                </div>
                <div class="modal-body">
                    <div class="row paddingZero">
                        <div class="col-md-6 col-xs-12">

                            <h5>Select a person Incharge to initiate filing</h5>
                            <div style="border: 1px solid #ddd">
                                <select id="myscheduler" select2 ng-model="scheduler"
                                    style="text-align: center;width: 100%;text-align-last: center;">
                                    <option value=""></option>
                                    <option ng-repeat="data24 in dashboard.values.accounts track by data24.id"
                                        value="{{data24.id}}">{{data24.emplbl}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" ng-click="savesettings()">Save changes</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div id="Duplicate" class="modal fade" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Duplicate Schedule</h4>
                </div>
                <div class="modal-body">
                    <div class="row paddingZero">
                        <div class="col-md-6 col-xs-12">Select Employee</div>
                        <div class="col-md-6 col-xs-12 ">
                            <p class="pull-right">All <input id="checkboxall" type="checkbox" value="all"
                                    ng-click="allemp()"></p>
                        </div>
                        <div class="col-md-12 col-xs-12">
                            <select select2 multiple class="form-control" name="dupselected"
                                style="text-align: center;width: 100%;text-align-last: center;" ng-model="dupselected">
                                <option ng-repeat="data in empunder" value="{{$index}}" ng-if="$index != selindex">
                                    {{  data.empid + ' ' + data.fullname | titlecase}}
                                </option>
                            </select>
                            <!-- <div id="dup" class="checkbox" ng-repeat="data in empunder" ng-hide="$index == selindex">
                                <label><input type="checkbox" value="{{$index}}" class="fordup">
                                    {{  data.empid + ' ' + data.fullname | titlecase}}</label>
                            </div> -->

                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary pull-right" ng-click="duplicate()"
                        data-dismiss="modal">Insert</button>
                    <button type="button" class="btn btn-secondary pull-left" data-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>